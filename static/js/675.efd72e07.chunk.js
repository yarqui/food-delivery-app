"use strict";(self.webpackChunkfood_delivery_app=self.webpackChunkfood_delivery_app||[]).push([[675],{323:function(e,n,r){r.d(n,{c:function(){return s}});var t,a=r(168),s=r(444).ZP.li(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 270px;\n  padding: 8px;\n  gap: 8px;\n\n  list-style: none;\n  border-radius: 4px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"])))},675:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t,a,s,i,o,l=r(861),c=r(942),d=r(413),p=r(439),u=r(757),h=r.n(u),m=r(323),x=r(168),f=r(444),g=f.ZP.div(t||(t=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  border-radius: 4px;\n  padding: 16px;\n  /* background-color: #fff2f2; */\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),y=f.ZP.div(a||(a=(0,x.Z)(["\n  margin-left: 16px;\n  flex-grow: 2;\n"]))),v=f.ZP.div(s||(s=(0,x.Z)(["\n  display: flex;\n  gap: 4px;\n"]))),b=f.ZP.h3(i||(i=(0,x.Z)(["\n  margin-right: 0;\n  margin-left: auto;\n"]))),j=f.ZP.form(o||(o=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 300px;\n"]))),Z=r(184),C=function(e){var n=e.dish,r=e.handleQuantityChange,t=e.handleRemoveFromCart,a=n.dishId,s=n.photo,i=n.name,o=n.price,l=n.quantity;return(0,Z.jsxs)(m.c,{children:[(0,Z.jsx)("img",{src:s,alt:i,width:"200"}),(0,Z.jsx)("p",{children:i}),(0,Z.jsxs)("p",{children:["Price: $",o]}),(0,Z.jsxs)(v,{children:[(0,Z.jsx)("p",{children:"Quantity:"}),(0,Z.jsx)("input",{type:"number",min:1,value:l,onChange:function(e){var n=parseInt(e.target.value,10);r(a,n)}})]}),(0,Z.jsx)("button",{onClick:function(){t(a)},children:"Remove"})]})},w=r(791),A=r(689),I=r(174),P=r(405),k=r(321),S={name:"",email:"",phone:"",address:""},F=function(e){var n=e.cartItems,r=e.setCartItems,t=(0,w.useState)((function(){var e;return null!==(e=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){console.log("error:",n),console.log("error.message:",n.message)}}(k.Z.cartCredentials))&&void 0!==e?e:S})),a=(0,p.Z)(t,2),s=a[0],i=a[1];(0,w.useEffect)((function(){!function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log("error:",r),console.log("error.message:",r.message)}}(k.Z.cartCredentials,s)}),[s]);var o=(0,A.s0)(),u=n.reduce((function(e,n){return e+n.price*n.quantity}),0),m=function(){!function(e){try{localStorage.removeItem(e)}catch(n){console.log("error:",n),console.log("error.message:",n.message)}}(k.Z.cartCredentials),i(S),r([])},x=function(e){var n=e.currentTarget,r=n.name,t=n.value;i((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,c.Z)({},r,t))}))},f=function(e){var t=n.filter((function(n){return n.dishId!==e}));r(t)},v=function(e,t){var a=n.map((function(n){return n.dishId===e?(0,d.Z)((0,d.Z)({},n),{},{quantity:t}):n}));r(a)},F=function(){var e=(0,l.Z)(h().mark((function e(r){var t,a,i,l,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=s.name,a=s.email,i=s.phone,l=s.address,0!==n.length){e.next=6;break}return I.Am.warning("No items in the cart. Please choose something to eat.",{autoClose:2e3}),o("/",{replace:!0}),e.abrupt("return");case 6:if(t&&a&&i&&l){e.next=9;break}return I.Am.warning("All fields are required",{autoClose:1e3}),e.abrupt("return");case 9:return c={products:n,sum:u,name:t.trim(),email:a.trim().toLocaleLowerCase(),phone:i.trim(),address:l.trim()},e.next=12,(0,P.Ee)(c);case 12:I.Am.success("Thank you for your order. Our delivery guy will be there in a jiffy \ud83d\ude80",{autoClose:1e4,position:"top-center"}),m(),o("/",{replace:!0});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(g,{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h3",{children:"Delivery Details:"}),(0,Z.jsxs)(j,{onSubmit:F,children:[(0,Z.jsx)("label",{htmlFor:"name",children:"Name"}),(0,Z.jsx)("input",{id:"name",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Bruce Wayne, Tomas Shelby.",placeholder:"Name",value:s.name,onChange:x}),(0,Z.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Z.jsx)("input",{id:"email",type:"email",name:"email",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",placeholder:"Email",value:s.email,onChange:x}),(0,Z.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,Z.jsx)("input",{id:"phone",type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"Phone",value:s.phone,onChange:x}),(0,Z.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Z.jsx)("input",{id:"address",type:"text",name:"address",placeholder:"Address",value:s.address,onChange:x}),(0,Z.jsx)("button",{type:"submit",children:"Submit Order"})]})]}),(0,Z.jsxs)(y,{children:[(0,Z.jsxs)(b,{children:["Total: $",u]}),n.map((function(e){return(0,Z.jsx)(C,{dish:e,handleQuantityChange:v,handleRemoveFromCart:f},e.dishId)}))]})]}),(0,Z.jsx)(I.Ix,{theme:"colored",autoClose:700,position:"top-center"})]})}}}]);
//# sourceMappingURL=675.efd72e07.chunk.js.map