"use strict";(self.webpackChunkfood_delivery_app=self.webpackChunkfood_delivery_app||[]).push([[675],{323:function(e,n,r){r.d(n,{c:function(){return i}});var a,t=r(168),i=r(444).ZP.li(a||(a=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 270px;\n  padding: 8px;\n  gap: 8px;\n\n  list-style: none;\n  border-radius: 4px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"])))},675:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var a,t,i,s,o,l=r(861),c=r(942),d=r(413),p=r(439),u=r(757),h=r.n(u),m=r(323),x=r(168),f=r(444),g=f.ZP.div(a||(a=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  border-radius: 4px;\n  padding: 16px;\n  /* background-color: #fff2f2; */\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),y=f.ZP.div(t||(t=(0,x.Z)(["\n  margin-left: 16px;\n  flex-grow: 2;\n"]))),v=f.ZP.div(i||(i=(0,x.Z)(["\n  display: flex;\n  gap: 4px;\n"]))),b=f.ZP.h3(s||(s=(0,x.Z)(["\n  margin-right: 0;\n  margin-left: auto;\n"]))),Z=f.ZP.form(o||(o=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 300px;\n"]))),j=r(184),C=function(e){var n=e.dish,r=e.handleQuantityChange,a=e.handleRemoveFromCart,t=n.dishId,i=n.photo,s=n.name,o=n.price,l=n.quantity;return(0,j.jsxs)(m.c,{children:[(0,j.jsx)("img",{src:i,alt:s,width:"200"}),(0,j.jsx)("p",{children:s}),(0,j.jsxs)("p",{children:["Price: $",o]}),(0,j.jsxs)(v,{children:[(0,j.jsx)("p",{children:"Quantity:"}),(0,j.jsx)("input",{type:"number",min:1,value:l,onChange:function(e){var n=parseInt(e.target.value,10);r(t,n)}})]}),(0,j.jsx)("button",{onClick:function(){a(t)},children:"Remove"})]})},w=r(791),A=r(689),P=r(174),k=r(405),I=r(321),S={name:"",email:"",phone:"",address:""},F=function(e){var n=e.cartItems,r=e.setCartItems,a=(0,w.useState)((function(){var e;return null!==(e=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){console.log("error:",n),console.log("error.message:",n.message)}}(I.Z.cartCredentials))&&void 0!==e?e:S})),t=(0,p.Z)(a,2),i=t[0],s=t[1];(0,w.useEffect)((function(){!function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log("error:",r),console.log("error.message:",r.message)}}(I.Z.cartCredentials,i)}),[i]);var o=(0,A.s0)(),u=n.reduce((function(e,n){return e+n.price*n.quantity}),0),m=function(){!function(e){try{localStorage.removeItem(e)}catch(n){console.log("error:",n),console.log("error.message:",n.message)}}(I.Z.cartCredentials),s(S),r([])},x=function(e){var n=e.currentTarget,r=n.name,a=n.value;s((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,c.Z)({},r,a))}))},f=function(e){var a=n.filter((function(n){return n.dishId!==e}));r(a)},v=function(e,a){var t=n.map((function(n){return n.dishId===e?(0,d.Z)((0,d.Z)({},n),{},{quantity:a}):n}));r(t)},F=function(){var e=(0,l.Z)(h().mark((function e(r){var a,t,s,l,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=i.name,t=i.email,s=i.phone,l=i.address,0!==n.length){e.next=6;break}return P.Am.warning("No items in the cart. Please choose something to eat.",{autoClose:2e3}),o("/",{replace:!0}),e.abrupt("return");case 6:if(a&&t&&s&&l){e.next=9;break}return P.Am.warning("All fields are required",{autoClose:1e3}),e.abrupt("return");case 9:return c={products:n,sum:u,name:a.trim(),email:t.trim().toLocaleLowerCase(),phone:s.trim(),address:l.trim()},e.next=12,(0,k.Ee)(c);case 12:P.Am.success("Thank you for your order. Our delivery guy will be there in a jiffy \ud83d\ude80",{autoClose:1e4,position:"top-center"}),m(),o("/",{replace:!0});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(g,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Delivery Details:"}),(0,j.jsxs)(Z,{onSubmit:F,children:[(0,j.jsx)("label",{htmlFor:"name",children:"Name"}),(0,j.jsx)("input",{id:"name",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Bruce Wayne, Tomas Shelby.",placeholder:"Name",value:i.name,onChange:x}),(0,j.jsx)("label",{htmlFor:"email",children:"Email"}),(0,j.jsx)("input",{id:"email",type:"email",name:"email",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",placeholder:"Email",value:i.email,onChange:x}),(0,j.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,j.jsx)("input",{id:"phone",type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"Phone",value:i.phone,onChange:x}),(0,j.jsx)("label",{htmlFor:"address",children:"Address"}),(0,j.jsx)("input",{id:"address",type:"text",name:"address",placeholder:"Address",value:i.address,onChange:x}),(0,j.jsx)("button",{type:"submit",children:"Submit Order"})]})]}),(0,j.jsxs)(y,{children:[(0,j.jsxs)(b,{children:["Total: $",u]}),n.map((function(e){return(0,j.jsx)(C,{dish:e,handleQuantityChange:v,handleRemoveFromCart:f},e.dishId)}))]})]})}}}]);
//# sourceMappingURL=675.3235bc77.chunk.js.map